<html>
<head>
	<title>test1</title>
	<script type="text/javascript" src="../loader-release.js"></script>
	<script type="text/javascript">
		
		// random tests
		 
		var loader = new Loader({ root: 'test1-', domevents: true });
		
		function button1() {
			//console.log('button1 clicked');
			loader.requires('module1',function () {
				//console.log('button1 action, everything ready.');
				alert(mod1value);
			});
		};

		function button2() {
			//console.log('button2 clicked');
			loader.requires(['module2'], function () {
				//console.log('button2 action, everything ready.');
				alert(mod2value);
			});
		};

		//console.log('queueing...');
		loader.run(function () {
			console.log('auto-queued item called.');
		});
		//console.log('done queueing...');

		loader.when('ready', function () {
			loader.run(function () {
				console.log('dom ready; loader without dependencies.');
			});
		});

		loader.when('load', function () {
			loader.run(function () {
				console.log('dom load;');
			});
		});
  
	</script>
</head>
<body>
	<a href="javascript:button1();">button 1</a><br />
	<a href="javascript:button2();">button 2</a><br /> 
</body>
</html>
